<template>
  <div class="m-life">
    <el-row>
      <el-col :span="14">
        <slider/>
      </el-col>
      <el-col :span="4">
        <div class="m-life-pic"/>
      </el-col>
      <el-col :span="6">
        <div class="m-life-login">
          <template v-if="user">
            <h4>
              <img src="//s0.meituan.net/bs/fe-web-meituan/2d05c2b/img/avatar.jpg">
            </h4>
            <p class="m-life-login-name">Hiï¼<span class="username">{{ user }}</span> ä½ å¥½</p>
            <nuxt-link to="/exit">é€€å‡º</nuxt-link>
          </template>
          <template v-else>
            <h4>
              <img src="//s0.meituan.net/bs/fe-web-meituan/2d05c2b/img/avatar.jpg">
            </h4>
            <p class="m-life-login-name">Hiï¼ä½ å¥½</p>
            <p>
              <nuxt-link to="/register">
                <el-button 
                  round
                  size="medium">æ³¨å†Œ</el-button>
              </nuxt-link>
            </p>
            <p>
              <nuxt-link to="/login">
                <el-button
                  round 
                  size="medium">ç«‹å³ç™»å½•</el-button>
              </nuxt-link>
            </p>
          </template>
        </div>
      </el-col>
    </el-row>
    <el-row>
      <el-col :span="7">
        <div class="m-life-hotel"/>
      </el-col>
      <el-col :span="7">
        <div class="m-life-music"/>
      </el-col>
      <el-col :span="4">
        <div 
          @click="todo"
          class="m-life-coop"
        />
      </el-col>
      <el-col :span="6">
        <div class="m-life-downapp">
          <img
            src="//s1.meituan.net/bs/fe-web-meituan/60ac9a0/img/download-qr.png" 
            alt="ä¸‹è½½APP">
          <p>å‘³å¿ƒAPPæ‰‹æœºç‰ˆ</p>
          <h4>
            <span class="red">1å…ƒèµ·</span>
            <em class="gary">åƒå–ç©ä¹</em>
          </h4>
        </div>
      </el-col>
    </el-row>
  </div>
</template>

<script>
import Slider from "./slider.vue";
export default {
  components: {
    Slider
  },
  data() {
    return {
      user: ""
    }
  },
  async mounted() {
    const {
      status,
      data: { user }
    } = await this.$axios.get("/users/getUser");
    if (status === 200) {
      this.user = user;
    }
  },
  methods: {
    todo() {
      this.$notify.info({
        title: 'æ•¬è¯·æœŸå¾…',
        message: 'ğŸ‰å•†å®¶å…¥é©»ç”³è¯·æ¨¡å—å³å°†å¼€æ”¾~'
      });
    }
  }
};
</script>


<style lang="scss">
@import "@/assets/css/index/life.scss";
</style>
